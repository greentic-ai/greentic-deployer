# PR-20: Policy gating: explicit listener enablement (secure-by-default)

## Goal
Ensure future listener-based adapters (HTTP/MQTT) are OFF unless explicitly enabled.

## Scope
Policy plumbing + flags + enforcement. No listener adapters implemented yet.

## Changes
- Add flags:
  - `--allow-listeners` (default: false)
  - `--allow-network` (default: false or aligned with your existing allow_network)
  - `--bind <addr:port>` (only meaningful when listeners allowed)
- Update policy model:
  - `offline_only` implies no listeners + no network
  - `no_listeners` hard-disables listener adapters
- Ensure adapter registry enforces policy and logs reasons (deterministic).

## Acceptance Criteria
- Without `--allow-listeners`, any listener adapter cannot run.
- Clear output: “HTTP adapter disabled: listeners not allowed”.

## Tests
- Unit tests: policy denies listeners by default.
- Unit tests: enabling listeners exposes eligible adapters.

## Notes
- This PR is foundational for HTTP/MQTT security posture.

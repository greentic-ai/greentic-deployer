# PR-21: HTTP adapter (optional): local web wizard mode behind policy gate

## Goal
Provide an optional HTTP wizard mode for richer UX, without making GUI/web a requirement.

## Scope
HTTP server adapter only. Must be fully optional and policy-controlled.

## Changes
- Implement `http` InteractionAdapter:
  - Starts a minimal local HTTP server ONLY if:
    - `--allow-listeners` is set AND
    - `--interaction http` (or `auto` selects it) AND
    - bind is allowed by policy
  - Serves:
    - installer-provided schema (questions, steps)
    - submits answers back to deployer
- Add flags:
  - `--interaction http`
  - `--bind 127.0.0.1:PORT` (default to localhost only)
- Add strong defaults:
  - localhost-only unless explicitly overridden
  - no external assets required
- Add redaction rules to never show secret values after submission.

## Acceptance Criteria
- HTTP mode works end-to-end with the installer schema -> answers -> BootstrapOutput.
- HTTP mode cannot start without explicit flags.

## Tests
- Integration test:
  - spawn deployer in http mode on ephemeral port
  - GET schema endpoint returns schema
  - POST answers returns accepted and leads to successful install (fixture)
- Unit tests: policy denies non-localhost binds unless explicitly allowed (if desired).

## Notes
- Keep HTTP server minimal: no authentication unless you explicitly want it now.
- Do not create a hard dependency on a full GUI stack.

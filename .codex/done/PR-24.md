# PR-24: Kubernetes bootstrap state store (optional backend)

## Goal
Support bootstrap state persistence in k8s (ConfigMap/Secret) for cluster installs.

## Scope
State backend plugin; no requirement to run on k8s.

## Changes
- Add `BootstrapStateStore` abstraction:
  - `file` (existing default)
  - `k8s` (new optional)
- Add flags:
  - `--bootstrap-state-backend file|k8s`
  - `--k8s-namespace greentic-system`
  - `--k8s-state-name greentic-bootstrap`
- Store:
  - non-secret bootstrap state in ConfigMap
  - (optional) sensitive rollback metadata in Secret if needed (prefer not)

## Acceptance Criteria
- On k8s backend, `platform status` reads state from cluster.
- On non-k8s env, k8s backend is unavailable and errors clearly.

## Tests
- Unit tests for backend selection and serialization.
- Integration tests behind feature flag using a k8s test harness if available; otherwise mock the client.

## Notes
- Keep k8s dependency optional via feature flags.

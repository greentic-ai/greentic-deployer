# PR-19: Interaction adapter framework (pluggable adapters, stable core)

## Goal
Make interaction modes extensible (CLI/JSON today, HTTP/MQTT tomorrow) without changing deployer core logic.

## Scope
Internal refactor: introduce an adapter trait + registry. No behavior change for CLI/JSON.

## Changes
- Add `InteractionAdapter` trait with methods like:
  - `id() -> &'static str`
  - `is_available(policy, env) -> bool`
  - `run(installer_schema, policy) -> Answers`
- Add adapter registry:
  - built-ins: `cli`, `json`
  - placeholders: `http`, `mqtt` (not enabled yet)
- Update capability negotiation to reflect adapter registry output.

## Acceptance Criteria
- Existing `--interaction cli|json|auto` still works.
- Capability output is derived from registry, not hardcoded lists.

## Tests
- Unit tests: registry selection with policy flags.
- Unit tests: auto-selection chooses best available adapter.

## Notes
- Keep the deployer “policy” object as the single source of allowed adapters/transports.
